<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ƒêƒÉng nh·∫≠p</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    
    body {
        font-family: 'Inter', sans-serif;
		background: linear-gradient(135deg, #e0f2ff, #fdfdfd);
        /* background: linear-gradient(135deg, #4ad351 0%, #5879ae 50%, #036cff 100%); */
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 20px;
        position: relative;
        overflow: hidden;
    }
    
    body::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: radial-gradient(circle at 20% 80%, rgba(59, 130, 246, 0.1) 0%, transparent 50%),
                    radial-gradient(circle at 80% 20%, rgba(16, 185, 129, 0.1) 0%, transparent 50%);
        pointer-events: none;
        z-index: 0;
    }

    /* Icon r∆°i */
    .bank-icon {
        position: fixed;
        top: -80px;
        color: rgba(200, 184, 200, 0.8);
        pointer-events: none;
        z-index: 0;
        animation: fall linear forwards;
    }

@keyframes fall {
    0% { transform: translate(0, 0) rotate(0deg); opacity: 1; }
    25% { transform: translate(15px, 25vh) rotate(90deg); }
    50% { transform: translate(-15px, 50vh) rotate(180deg); }
    75% { transform: translate(15px, 75vh) rotate(270deg); }
    100% { transform: translate(-15px, 110vh) rotate(360deg); opacity: 0; }
}


    
    .login-container {
        background: rgba(255, 255, 255, 0.98);
        backdrop-filter: blur(20px);
        border: 1px solid rgba(255, 255, 255, 0.2);
        border-radius: 20px;
        box-shadow: 0 25px 50px rgba(0, 0, 0, 0.15), 
                    0 0 0 1px rgba(255, 255, 255, 0.1);
        padding: 48px 40px;
        width: 100%;
        max-width: 440px;
        position: relative;
        z-index: 1;
    }
    
   /* .login-container::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 30px;
    background: linear-gradient(90deg, #3b82f6 0%, #10b981 100%);
    border-top-left-radius: 20px;
    border-top-right-radius: 20px;
    overflow: hidden;
	}	 */

    
    .login-header { 
        text-align: center; 
        margin-bottom: 36px; 
    }
    
    .login-title { 
        font-size: 32px; 
        font-weight: 700; 
        color: #0f172a; 
        margin-bottom: 8px;
        letter-spacing: -0.025em;
    }
    
    .login-subtitle { 
        font-size: 16px; 
        color: #64748b; 
        font-weight: 400; 
        line-height: 1.5;
    }
    
    .form-group { 
        margin-bottom: 24px; 
        position: relative; 
    }
    
    .form-label { 
        display: block; 
        font-size: 14px; 
        font-weight: 600; 
        color: #374151; 
        margin-bottom: 8px;
        letter-spacing: 0.025em;
    }

    .form-input {
        width: 100%;
        padding: 16px 20px 16px 52px;
        border: 2px solid #e2e8f0;
        border-radius: 12px;
        font-size: 16px;
        font-family: inherit;
        font-weight: 400;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        background: #fafbfc;
        color: #1e293b;
        line-height: 1.5;
    }
    
    .form-input:focus {
        outline: none;
        border-color: #3b82f6;
        background: #ffffff;
        box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.1);
        transform: translateY(-1px);
    }
    
    .form-input::placeholder { 
        color: #94a3b8; 
        font-weight: 400;
    }
    
    .form-icon {
        position: absolute;
        left: 18px;
        top: 65%;
        transform: translateY(-50%);
        color: #94a3b8;
        font-size: 30px;
        transition: all 0.3s ease;
        pointer-events: none;
        z-index: 1;
    }
    
    .form-group:focus-within .form-icon {
        color: #3b82f6;
        transform: translateY(-50%) scale(1.1);
    }

    /* Icon m·∫Øt */
    .password-toggle {
        position: absolute;
        right: 18px;
        top: 65%;
        transform: translateY(-50%);
        font-size: 20px;
        color: #94a3b8;
        cursor: pointer;
        transition: all 0.3s ease;
        z-index: 2;
    }

    .password-toggle:hover {
        color: #3b82f6;
    }

    .login-button {
        width: 100%;
        padding: 18px 24px;
        background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
        color: white;
        border: none;
        border-radius: 12px;
        font-size: 16px;
        font-weight: 600;
        font-family: inherit;
        cursor: pointer;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        margin-top: 12px;
        letter-spacing: 0.025em;
        position: relative;
        overflow: hidden;
    }
    
    .login-button::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
        transition: left 0.5s;
    }
    
    .login-button:hover {
        transform: translateY(-2px);
        box-shadow: 0 12px 30px rgba(59, 130, 246, 0.4);
        background: linear-gradient(135deg, #2563eb 0%, #1e40af 100%);
    }
    
    .login-button:hover::before {
        left: 100%;
    }
    
    .login-button:active { 
        transform: translateY(-1px); 
        box-shadow: 0 8px 20px rgba(59, 130, 246, 0.3);
    }
    
    .forgot-password { 
        text-align: center; 
        margin-top: 28px; 
    }
    
    .forgot-password a { 
        color: #3b82f6; 
        text-decoration: none; 
        font-size: 14px; 
        font-weight: 500; 
        transition: all 0.2s ease;
        position: relative;
    }
    
    .forgot-password a::after {
        content: '';
        position: absolute;
        width: 0;
        height: 2px;
        bottom: -2px;
        left: 50%;
        background: #3b82f6;
        transition: all 0.3s ease;
        transform: translateX(-50%);
    }
    
    .forgot-password a:hover { 
        color: #1d4ed8; 
    }
    
    .forgot-password a:hover::after {
        width: 100%;
    }
    
    @media (max-width: 480px) { 
        .login-container { 
            padding: 36px 28px; 
            margin: 16px; 
            max-width: 100%;
        } 
        .login-title { 
            font-size: 28px; 
        }
        .form-input {
            padding: 14px 18px 14px 48px;
        }
        .form-icon {
            left: 16px;
        }
        
        /* ·∫®n icon tr√™n mobile */
        .bank-icon {
            display: none;
        }
    }
</style>
</head>
<body>

<div class="login-container">
    <div class="login-header">
        <h1 class="login-title">ƒêƒÇNG NH·∫¨P</h1>
        <p class="login-subtitle">Vui l√≤ng ƒëƒÉng nh·∫≠p v√†o t√†i kho·∫£n c·ªßa b·∫°n</p>
    </div>
    <form class="login-form" id="loginForm">
        <div class="form-group">
            <label for="username" class="form-label">Email</label>
            <input type="text" id="username" name="username" 
				   class="form-input" placeholder="Nh·∫≠p email c·ªßa b·∫°n" required autocomplete="username">
            <i class="fas fa-user form-icon"></i>
        </div>
        <div class="form-group">
            <label for="password" class="form-label">M·∫≠t kh·∫©u</label>
            <input type="password" id="password" name="password" 
			       class="form-input" placeholder="Nh·∫≠p m·∫≠t kh·∫©u" required autocomplete="current-password">
            <i class="fas fa-lock form-icon"></i>
            <i class="fas fa-eye password-toggle"></i>
        </div>
        <button type="submit" class="login-button">ƒêƒÉng nh·∫≠p</button>
    </form>
    <div class="forgot-password"><a href="#" tabindex="0">Qu√™n m·∫≠t kh·∫©u?</a></div>
</div>

<script>
	const loginForm = document.getElementById('loginForm');
	const loginButton = document.querySelector('#loginForm button[type="submit"]');
	let isSubmitting = false; // üîí ch·∫∑n submit li√™n t·ª•c

	loginForm.addEventListener('submit', async function(e){
		e.preventDefault();
		if (isSubmitting) return; 
		isSubmitting = true;
		loginButton.disabled = true;
		loginButton.innerHTML = `<i class="fas fa-spinner fa-spin"></i> ƒêang ƒëƒÉng nh·∫≠p...`;
		const email = document.getElementById('username').value.trim();
		const password = document.getElementById('password').value.trim();
		try {
			const res = await fetch('http://localhost:8081/api/v1/auth/login', {
				method: 'POST',
				headers: {'Content-Type':'application/json'},
				body: JSON.stringify({ email, password })
			});
			const data = await res.json();
			if(data.status === "SUCCESS" && data.data?.token){
				localStorage.setItem('token', data.data.token);
				window.location.href = 'http://localhost:8081/page/home';
			} else {
				alert('Sai email ho·∫∑c m·∫≠t kh·∫©u.');
				resetButton();
			}
		} catch (err) {
			console.error(err);
			alert('Kh√¥ng th·ªÉ k·∫øt n·ªëi ƒë·∫øn m√°y ch·ªß.');
			resetButton();
		}
	});

	function resetButton() {
		isSubmitting = false;
		loginButton.disabled = false;
		loginButton.innerHTML = "ƒêƒÉng nh·∫≠p";
	}

	// Toggle hi·ªÉn/·∫©n m·∫≠t kh·∫©u
	const togglePassword = document.querySelector('.password-toggle');
	const passwordInput = document.getElementById('password');

	togglePassword.addEventListener('click', () => {
		const type = passwordInput.type === 'password' ? 'text' : 'password';
		passwordInput.type = type;
		togglePassword.classList.toggle('fa-eye');
		togglePassword.classList.toggle('fa-eye-slash');
	});
</script>


</body>
</html>
